<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="robots" content="noindex,nofollow,noarchive" />
<link rel="stylesheet" href="data/css/leader.css"/>
<title>Leader</title>
</head>
<body>
<div id="wrapper">
    <div id="entry">
        <!--写真選択〜編集  -->    
        <div id="page1" class="page">
            <div class="title title1-2">
                <h2>对准轮廓调整自己的照片</h2>
            </div>
            <div id="image-box">
                <img id="src_keeper" style="position:absolute;"></img>
                <div id="face-frame" class="disable" style="position:absolute;"></div>
                <div id="hit" class="hit-area disable"></div>   
                <div id="hit-border" class="hit-area disable"></div>
                <div id="pinch" class="controll hit-area disable"></div> 
                <div id="cross-arrow" class="controll hit-area disable"></div>
            </div>
            <div class="btn-set">
                <a href="#" class="back-btn active-btn"></a>
                <a href="#" id="cut-btn" class="ok-btn active-btn"></a>
            </div>
            <div class="content">
                <div class="title title1-1">
                    <h2>请上传自己的大头贴</h2>
                </div>
                <div class="cut"></div>
                <div id="form-box" style="">
                    <form>
                        <label for="file" style="">
                            <p class="file-btn active-btn"></p>
                            <input id="file" type="file" accept="image/jpeg, image/gif, image/png, capture=camera" style="opacity: 0;">
                        </label>
                    </form>
                </div>
            </div>
        </div>
        <!--写真確認  -->    
        <div id="page2" class="page">
            <div class="title">
                <h2>OK吗?</h2>
            </div>
            <div id="img" style="display: block;">
                <img src="/data/images/test/face.jpg"></img>
                <div class="border"></div>
            </div>
            <div class="wave"></div>
            <div class="btn-set">
                <a href="#" class="back-btn active-btn"></a>
                <a href="#" id="next-btn" class="ok-btn active-btn"></a>
            </div>
            <span class="cookie cookie-l"></span>
            <span class="cookie cookie-r"></span>
        </div>
        <!--メッセージ選択  -->    
        <div id="page3" class="page">
            <div class="title">
                <div class="background"></div>
                <h2>请选择Message</h2>
                <span class="cookie cookie-l"></span>
                <span class="cookie cookie-r"></span>                
            </div>
            <form id="message-form" class="clearfix">
                <div class="message-item"><input type="radio" name="message" id="radio-1" value="1"/><label for="radio-1" class="message01"></label></div>
                <div class="message-item"><input type="radio" name="message" id="radio-2" value="2"/><label for="radio-2" class="message02"></label></div>
                <div class="message-item"><input type="radio" name="message" id="radio-3" value="3"/><label for="radio-3" class="message03"></label></div>
                <div class="message-item"><input type="radio" name="message" id="radio-4" value="4"/><label for="radio-4" class="message04"></label></div>
                <div class="message-item"><input type="radio" name="message" id="radio-5" value="5"/><label for="radio-5" class="message05"></label></div>
                <div class="message-item"><input type="radio" name="message" id="radio-6" value="6"/><label for="radio-6" class="message06"></label></div>
                <div class="message-item"><input type="radio" name="message" id="radio-7" value="7"/><label for="radio-7" class="message07"></label></div>
                <div class="message-item"><input type="radio" name="message" id="radio-8" value="8"/><label for="radio-8" class="message08"></label></div>
                <div class="message-item"><input type="radio" name="message" id="radio-9" value="9"/><label for="radio-9" class="message09"></label></div>
                <div class="message-item"><input type="radio" name="message" id="radio-10" value="10"/><label for="radio-10" class="message10"></label></div>
            </form>
            <div class="btn-set">
                <a href="#" class="back-btn active-btn"></a>
                <a href="#" id="upload_button" class="ok-btn active-btn disabled"></a>
            </div>
        </div>
        <!--エントリー完了-->    
        <div id="page4" class="page">
            <div class="title-box clearfix">
                <div class="title"></div>
                <p class="text1"></p>
            </div>
            <div class="background-top"></div>
            <div class="box clearfix">
                <div class="item baloon1"></div>
                <div class="item peaple"></div>
                <p class="item text2"></p>
                <div class="item baloon2"></div>
                <div class="item animation">
                    <canvas class="item" id="ready-animation" width="259" height="111"></canvas>
                </div>
            </div>
            <div class="btn-set">
                <a href="#" id="p4_next_button" class="ok-btn active-btn"></a>
            </div>
        </div>
        <!--エントリー募集-->    
        <div id="page5" class="page">
            <div class="title"></div>
            <div id="qrcode"></div>
            <div class="number-box">
                <p class="number"></p>
            </div>
            <div class="btn-set">
                <a href="#" id="entry_close" class="ok-btn disabled active-btn"></a>
            </div>
            <div class="float">
                <p class="cheer"></p>
                <div class="img" style="display: block;">
                    <img src="/data/images/test/face.jpg"></img>
                    <div class="border"></div>
                </div>                
            </div>
        </div>
        <!--人数確定-->    
        <div id="page6" class="page">
            <div class="title-box">
                <p class="text"></p>
                <p class="number"></p>
            </div>
            <div class="wave"></div>
            <div class="box">
                <div class="box-inner">
                    <p class="baloon">再次确认一下， 将此手机已经放置在了 最左边</p>
                    <div class="smartphone"></div>
                </div>
            </div>
            <div class="btn-set btn-set-L">
                <a href="#" id="p6_ok_button" class="ok-btn active-btn"></a>
            </div>
            <span class="cookie cookie-l"></span>
            <span class="cookie cookie-r"></span>
        </div>
        <!--START-->    
        <div id="page7" class="page">
            <p class="item ready-txt">有队员没有点击屏幕</p>
            <p class="item text">所有成员准备就绪， 请点击“START”按钮</p>
            <a id="p6_start_button" class="item heart active-btn">
                <div class="text-box">
                    <p class="heart-text start-txt">START</p>
                    <p class="heart-text number-txt">1</p>
                </div>
            </a>
            <a id="p6_reset_button" class="reset active-btn">请调整手机的顺序再试一次</a>
            <span class="cookie cookie-lt Top"></span>
            <span class="cookie cookie-rt Top"></span>
            <span class="cookie cookie-lb Bottom"></span>
            <span class="cookie cookie-rb Bottom"></span>
        </div>
    </div>
    <div id="player">
        <div class="video">
            <canvas id="main" width="750" height="1206"></canvas>
        </div>
        <div class="loading-box">
            <div class="loading-container">
                <canvas id="loading-anim" class="loading-anim" width="375" height="603"></canvas>
                <ul>
                    <li class="progress0"><span class="loaindg-num00" /></li>
                    <li class="progress1"><span class="loaindg-num00" /></li>
                    <li class="progress2"><span class="loaindg-num00" /></li>
                    <li class="progress3"><span class="loaindg-percent" /></li>
                </ul>
            </div>
        </div>
        <div class="float">
            <div id="player-menu-box">
                <ul>
                    <li class="player-menu-btn top"><a id="replay-btn" class="replay-btn green active-btn" href="#replay">REPLAY</a></li>
                    <li class="player-menu-btn"><a id="share-btn" class="share-btn green active-btn" href="#share">SHARE</a></li>
                    <li class="player-menu-btn"><a id="top-btn" class="top-btn red active-btn" href="#top">TOP</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div id="step">
        <ul>
            <li name="step1" class="on"><span class="step1" label="照片上传"></span></li>
            <li name="step2"  class="off"><span class="step2" label="选择Message"></span></li>
            <li name="step3"  class="off"><span class="step3" label="完成提交"></span></li>
        </ul>
    </div>
    <div id="loading">
        <div class="loading-item"></div>
    </div>
</div>
<script src="data/js/jquery-2.1.1.min.js"></script>
<script src="data/js/jquery.easing.1.3.js"></script>
<script src="data/js/jquery.class.min.js"></script>
<script src="data/js/createjs-2015.11.26.min.js"></script>
<script src="data/js/config.js"></script>
<script src="data/js/common.js"></script>
<script src="data/js/main.js"></script>
<script>
var global_com = new Common();
var loadImages = Config.loadImages;
var query = global_com.getQueryString();
loadImages = loadImages.concat(["leader/cheer_txt.png","leader/cookie_l2.png","leader/cookie_l3.png","leader/cookie_lb.png","leader/cookie_lt.png","leader/cookie_r2.png","leader/cookie_r3.png","leader/cookie_rb.png","leader/cookie_rt.png","leader/entry_close_txt.png","leader/entry_close_txt_disabled.png","leader/entry_complete_background_mask.png","leader/entry_complete_baloon1.png","leader/entry_complete_baloon2.png","leader/entry_complete_peaple.png","leader/entry_complete_text1.png","leader/entry_complete_text2.png","leader/entry_complete_title.png","leader/entry_number_2.png","leader/entry_number_3.png","leader/entry_number_4.png","leader/entry_number_5.png","leader/entry_number_6.png","leader/entry_number_7.png","leader/entry_number_8.png","leader/entry_over_caution.png","leader/entry_over_txt.png","leader/gototop_btn_txt.png","leader/heart_big.png","leader/heart_big_on.png","leader/member_entry_title.png","leader/member_number_txt.png","leader/message_form_off.png","leader/message_form_on.png","leader/message_pink_dot_mask.png","leader/message_title.png","leader/message_txt01.png","leader/message_txt02.png","leader/message_txt03.png","leader/message_txt04.png","leader/message_txt05.png","leader/message_txt06.png","leader/message_txt07.png","leader/message_txt08.png","leader/message_txt09.png","leader/message_txt10.png","leader/no_member_txt.png","leader/person2.png","leader/person3.png","leader/person4.png","leader/person5.png","leader/person6.png","leader/person7.png","leader/person8.png","leader/ready_txt.png","leader/replay_btn_txt.png","leader/reset_btn.png","leader/reset_btn_txt.png","leader/share_btn_txt.png","leader/smartphone2.png","leader/smartphone3.png","leader/smartphone4.png","leader/smartphone5.png","leader/smartphone6.png","leader/smartphone7.png","leader/smartphone8.png","leader/sprites.png","leader/start.png","leader/start_baloon.png","leader/step1_off.png","leader/step1_on.png","leader/step2_off.png","leader/step2_on.png","leader/step3_off.png","leader/step3_on.png","leader/wave.png"]);
global_view.init(
    global_com
    ,loadImages
    ,true
    ,(query==null || query.network==undefined || query.network=="")?null:query.network
    ,function(){
        createjs.Sound.on("fileload", loadHandler, this);
        createjs.Sound.registerSound(Config.basepath+"mp3/bgm.mp3", "bgm.mp3");
        function loadHandler(event) {
            // This is fired for each sound that is registered.
            console.log("bgm.mp3 loaded");
        }
//console.log("1");
        //loading_complete、entry_init_complete、entry.show_complete後に呼ばれる
//        global_entry.gotoPage("page6");
/*
        global_api.gid = "tdcazvdz";
        global_api.uid = "385";
        $("#step").hide();
        global_api.on("connection_success", function(){
            $("#progress").hide();
            $("#entry").fadeOut(500);
            $("#player").fadeIn(500);
            var maxLength = Config.length + Config.interval;
            global_player.start(maxLength, Config.interval);                
//            global_player.showMenu();
        });
        global_api.connection();
*/
    }
);
if(Config.lock && (query==null || query.pass==undefined || query.pass!=Config.password)) location.href = "http://baidu.com/";
</script>
<script src="/scripts/action_cable.js" ></script>
<script src="/scripts/cable.self.js" ></script>
<script src="data/js/megapix-image.js"></script>
<script src="data/js/exif.js"></script>
<script src="data/js/hammer.min.js"></script>
<script src="data/js/touchphoto.js"></script>
<script src="data/js/api.js"></script>
<script src="data/js/common-entry.js"></script>
<script src="data/js/leader-entry.js"></script>
<script src="data/js/common-player.js"></script>
<script src="data/js/leader-player.js"></script>
<script src="data/js/jweixin-1.0.0.js"></script>
<script src="data/js/wechat.js"></script>
<script>
//console.log("2");
var global_api = new API();
var global_entry = new Entry();
var global_player = new Player();

global_api.on("init_complete", function(e, data){
    //console.log("init_complete");
    global_entry.on("entry_init_complete", function(e, data){
//console.log("entry_init_complete");
        global_entry.on("entry_complete", function(e, data){
            console.log("entry_complete");
            $("#entry").fadeOut(500);
            $("#player").fadeIn(500);
            setTimeout(function(){
                var maxLength = Config.length + Config.interval;
                global_player.start(maxLength, Config.interval);                
            }, 500);
        });
        global_player.on("play_complete", function(e, data){
            console.log("play_complete");
            $("#player .float").fadeIn(500, function(){
                $("#player-menu-box").fadeIn(500);
            });
        });
        global_player.init(global_api, global_com);
    });
    global_entry.init(global_api, global_com);
});
global_api.init({leader:true});
if(query!=null && query.debug!=undefined && query.debug=="1"){
    (function(url){
        var a, m;
        a=document.createElement("script");
        m=document.getElementsByTagName("script")[0];
        a.async=1;
        a.src=url;
        m.parentNode.insertBefore(a, m);
    })("/data/js/console_log.js");
}
</script>
</body>
</html>




